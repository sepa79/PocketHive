spring:
  application.name: log-aggregator
  rabbitmq:
    host: ${RABBITMQ_HOST:rabbitmq}
    port: ${RABBITMQ_PORT:5672}
    username: ${RABBITMQ_DEFAULT_USER:guest}
    password: ${RABBITMQ_DEFAULT_PASS:guest}
    listener:
      simple:
        auto-declare: false
        missing-queues-fatal: true
management.endpoints.web.exposure.include: health,info
logging:
  config: classpath:logback-spring.xml
  pattern.level: "%5p [%X{traceId}]"
pockethive:
  control-plane:
    swarm-id: ${POCKETHIVE_CONTROL_PLANE_SWARM_ID}
  logs:
    queue: ${POCKETHIVE_LOGS_QUEUE:ph.logs.agg}
  loki:
    url: ${POCKETHIVE_LOKI_URL:http://loki:3100}
    maxRetries: ${POCKETHIVE_LOKI_MAX_RETRIES:3}
    backoffMs: ${POCKETHIVE_LOKI_BACKOFF_MS:500}
    batchSize: ${POCKETHIVE_LOKI_BATCH_SIZE:100}
    flushIntervalMs: ${POCKETHIVE_LOKI_FLUSH_INTERVAL_MS:1000}
