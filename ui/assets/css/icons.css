:root{
  --ok:#42d392;
  --warn:#ffd166;
  --err:#ff4d4f;

  /* HAL defaults */
  --hal-color:#ff3b30;
  --hal-glow:#ff8a80;
  --hal-core:#8b0f0a;
  --hal-pulse-dur: 2.4s;

  /* Monolith */
  --monolith:#1b2430;
}

/* ===== HAL (Health Check Eye) ===== */
.hal{ --size: 110px; width:var(--size); height:var(--size); border-radius:50%; position:relative; display:grid; place-items:center; }
.hal .disc{ position:absolute; inset:0; border-radius:50%;
  background: radial-gradient(circle at 50% 52%, var(--hal-color) 0 28%, var(--hal-glow) 29% 36%, var(--hal-core) 37% 58%, #000 59% 100%);
}
.hal::before{ content:""; position:absolute; inset:-6px; border-radius:50%;
  background: radial-gradient(closest-side, rgba(255,255,255,.10), rgba(255,255,255,0));
  border:1px solid rgba(255,255,255,.10); box-shadow: inset 0 0 0 1px rgba(0,0,0,.85), 0 0 0 1px rgba(0,0,0,.6);
}
.hal::after{ content:""; position:absolute; top:14%; left:26%; width:28%; height:28%; border-radius:50%; opacity:0;
  background: radial-gradient(circle at 40% 40%, #fff, rgba(255,255,255,.65) 40%, rgba(255,255,255,0) 72%); }
.hal .outer-halo{ position:absolute; inset:-18%; border-radius:50%; pointer-events:none; opacity:0; transform: scale(.96);
  background: radial-gradient(circle, color-mix(in oklab, var(--hal-color) 40%, transparent) 0%, color-mix(in oklab, var(--hal-color) 20%, transparent) 35%, transparent 60%); }

@keyframes hal-pulse { from{ transform:scale(1);} to{ transform:scale(1.08);} }
@keyframes hal-blink { 0%{opacity:0;} 18%{opacity:.85;} 100%{opacity:0;} }
@keyframes halo-pulse { from{ opacity:0; transform:scale(.9);} to{ opacity:.9; transform:scale(1.05);} }
@keyframes modem-scan { 0%, 6%{opacity:0} 7%, 10%{opacity:1} 11%, 18%{opacity:0} 19%, 22%{opacity:1} 23%, 36%{opacity:0} 37%, 40%{opacity:1} 41%, 100%{opacity:0} }

.hal.is-animating   .disc{ will-change: transform; animation: hal-pulse var(--hal-pulse-dur) ease-in-out infinite alternate; }
.hal.is-animating::after{ animation: hal-blink calc(var(--hal-pulse-dur) * 1.1) ease-in-out infinite; }
.hal.is-animating .outer-halo{ will-change: transform, opacity; animation: halo-pulse var(--hal-pulse-dur) ease-in-out infinite alternate; }
.hal.scan .outer-halo{ animation: modem-scan 1.6s steps(30) infinite; opacity:1; transform:none; }
.hal.scan .disc{ animation: none; }

/* States */
.hal.ok    { --hal-color:#22c55e; --hal-glow:#9cffb8; --hal-core:#0d3b22; --hal-pulse-dur: 2.8s; }
.hal.warn  { --hal-color:#ffd166; --hal-glow:#ffe6a9; --hal-core:#5b3d00; --hal-pulse-dur: 1.8s; }
.hal.err   { --hal-color:#ff4040; --hal-glow:#ff9b93; --hal-core:#3f0000; --hal-pulse-dur: 1.1s; }

.badge{ position:absolute; right:-6px; bottom:-6px; width:16px; height:16px; border-radius:50%; background:#222; display:grid; place-items:center; }
.dot{ width:8px; height:8px; border-radius:50%; background:#666 }
.ok   .dot{ background: var(--ok) }
.warn .dot{ background: var(--warn) }
.err  .dot{ background: var(--err) }

/* ===== Monolith (Perspective Block) ===== */
.monolith{ --w: 74px; --h: 128px; width:var(--w); height:var(--h); border-radius:12px; position:relative; overflow:hidden;
  background: var(--monolith);
  outline:1px solid rgba(255,255,255,.18); box-shadow: 0 10px 24px rgba(0,0,0,.55), inset 0 0 0 1px rgba(0,0,0,.85);
  transform: perspective(800px) rotateY(-18deg) rotateX(2deg);
}
.monolith .face{ position:absolute; inset:0; background:
    linear-gradient(180deg, rgba(255,255,255,.10) 0%, rgba(0,0,0,.35) 85%),
    linear-gradient(160deg, rgba(255,255,255,.08) 0%, rgba(255,255,255,0) 55%);
  pointer-events:none; }
.monolith .rim{ position:absolute; inset:0; pointer-events:none; }
.monolith .rim.near{ width:14%; left:0; background: linear-gradient(90deg, rgba(255,255,255,.24), rgba(255,255,255,0)); }
.monolith .rim.far { width:10%; right:0; background: linear-gradient(270deg, rgba(0,0,0,.45), rgba(0,0,0,0)); }
.monolith .diag{ position:absolute; inset:-20% -30% -20% -30%; opacity:.22; transform: rotate(-15deg);
  background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.28) 50%, rgba(255,255,255,0) 100%); }
.monolith .sheen{ position:absolute; top:0; bottom:0; width:42%; left:-50%; opacity:.75;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.32) 50%, rgba(255,255,255,0) 100%);
  transform: translateX(0);
}
@keyframes sheen-sweep{ from{ transform:translateX(0);} to{ transform:translateX(240%);} }
.monolith.is-animating .sheen{ will-change: transform; animation: sheen-sweep 2.6s linear infinite; }
