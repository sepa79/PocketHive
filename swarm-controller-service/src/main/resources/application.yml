spring:
  application.name: ${SPRING_APPLICATION_NAME:swarm-controller-service}
  rabbitmq:
    host: ${SPRING_RABBITMQ_HOST:rabbitmq}
    port: ${SPRING_RABBITMQ_PORT:5672}
    username: ${SPRING_RABBITMQ_USERNAME:guest}
    password: ${SPRING_RABBITMQ_PASSWORD:guest}

logging:
  config: ${LOGGING_CONFIG:classpath:logback-spring.xml}
  pattern.level: ${LOGGING_PATTERN_LEVEL:"%5p [%X{traceId}]"}

pockethive:
  control-plane:
    exchange: ${POCKETHIVE_CONTROL_PLANE_EXCHANGE:ph.control}
    swarm-id: ${POCKETHIVE_CONTROL_PLANE_SWARM_ID:default}
    instance-id: ${POCKETHIVE_CONTROL_PLANE_INSTANCE_ID:${spring.application.name}}
    worker:
      enabled: ${POCKETHIVE_CONTROL_PLANE_WORKER_ENABLED:false}
    manager:
      role: ${POCKETHIVE_CONTROL_PLANE_MANAGER_ROLE:${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_ROLE:swarm-controller}}
    swarm-controller:
      control-queue-prefix: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_CONTROL_QUEUE_PREFIX:ph.control}
      traffic:
        queue-prefix: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_TRAFFIC_QUEUE_PREFIX:ph.${POCKETHIVE_CONTROL_PLANE_SWARM_ID:default}}
        hive-exchange: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_TRAFFIC_HIVE_EXCHANGE:ph.${POCKETHIVE_CONTROL_PLANE_SWARM_ID:default}.hive}
      rabbit:
        host: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_RABBIT_HOST:${RABBITMQ_HOST:${SPRING_RABBITMQ_HOST:rabbitmq}}}
        logs-exchange: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_RABBIT_LOGS_EXCHANGE:ph.logs}
        logging:
          enabled: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_RABBIT_LOGGING_ENABLED:false}
      metrics:
        pushgateway:
          enabled: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_METRICS_PUSHGATEWAY_ENABLED:false}
          push-rate: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_METRICS_PUSHGATEWAY_PUSH_RATE:PT1M}
          shutdown-operation: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_METRICS_PUSHGATEWAY_SHUTDOWN_OPERATION:DELETE}
      docker:
        socket-path: ${POCKETHIVE_CONTROL_PLANE_SWARM_CONTROLLER_DOCKER_SOCKET_PATH:/var/run/docker.sock}
